/* Copyright (c) 2007 Paul Bakaus (paul.bakaus@googlemail.com) and Brandon Aaron (brandon.aaron@gmail.com || http://brandonaaron.net)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * $LastChangedDate: 2007-08-17 13:14:11 -0500 (Fri, 17 Aug 2007) $
 * $Rev: 2759 $
 *
 * Version: 1.1.2
 *
 * Requires: jQuery 1.1.3+
 */
(function(a){var b=a.fn.height,c=a.fn.width;a.fn.extend({height:function(){return this[0]||d(),this[0]==window?a.browser.opera||a.browser.safari&&parseInt(a.browser.version)>520?self.innerHeight-(a(document).height()>self.innerHeight?h():0):a.browser.safari?self.innerHeight:a.boxModel&&document.documentElement.clientHeight||document.body.clientHeight:this[0]==document?Math.max(a.boxModel&&document.documentElement.scrollHeight||document.body.scrollHeight,document.body.offsetHeight):b.apply(this,arguments)},width:function(){this[0]||d();if(this[0]==window)return a.browser.opera||a.browser.safari&&parseInt(a.browser.version)>520?self.innerWidth-(a(document).width()>self.innerWidth?h():0):a.browser.safari?self.innerWidth:a.boxModel&&document.documentElement.clientWidth||document.body.clientWidth;if(this[0]==document){if(a.browser.mozilla){var b=self.pageXOffset;self.scrollTo(99999999,self.pageYOffset);var e=self.pageXOffset;return self.scrollTo(b,self.pageYOffset),document.body.offsetWidth+e}return Math.max(a.boxModel&&!a.browser.safari&&document.documentElement.scrollWidth||document.body.scrollWidth,document.body.offsetWidth)}return c.apply(this,arguments)},innerHeight:function(){return this[0]||d(),this[0]==window||this[0]==document?this.height():this.is(":visible")?this[0].offsetHeight-e(this,"borderTopWidth")-e(this,"borderBottomWidth"):this.height()+e(this,"paddingTop")+e(this,"paddingBottom")},innerWidth:function(){return this[0]||d(),this[0]==window||this[0]==document?this.width():this.is(":visible")?this[0].offsetWidth-e(this,"borderLeftWidth")-e(this,"borderRightWidth"):this.width()+e(this,"paddingLeft")+e(this,"paddingRight")},outerHeight:function(b){return this[0]||d(),b=a.extend({margin:!1},b||{}),this[0]==window||this[0]==document?this.height():this.is(":visible")?this[0].offsetHeight+(b.margin?e(this,"marginTop")+e(this,"marginBottom"):0):this.height()+e(this,"borderTopWidth")+e(this,"borderBottomWidth")+e(this,"paddingTop")+e(this,"paddingBottom")+(b.margin?e(this,"marginTop")+e(this,"marginBottom"):0)},outerWidth:function(b){return this[0]||d(),b=a.extend({margin:!1},b||{}),this[0]==window||this[0]==document?this.width():this.is(":visible")?this[0].offsetWidth+(b.margin?e(this,"marginLeft")+e(this,"marginRight"):0):this.width()+e(this,"borderLeftWidth")+e(this,"borderRightWidth")+e(this,"paddingLeft")+e(this,"paddingRight")+(b.margin?e(this,"marginLeft")+e(this,"marginRight"):0)},scrollLeft:function(b){return this[0]||d(),b!=undefined?this.each(function(){this==window||this==document?window.scrollTo(b,a(window).scrollTop()):this.scrollLeft=b}):this[0]==window||this[0]==document?self.pageXOffset||a.boxModel&&document.documentElement.scrollLeft||document.body.scrollLeft:this[0].scrollLeft},scrollTop:function(b){return this[0]||d(),b!=undefined?this.each(function(){this==window||this==document?window.scrollTo(a(window).scrollLeft(),b):this.scrollTop=b}):this[0]==window||this[0]==document?self.pageYOffset||a.boxModel&&document.documentElement.scrollTop||document.body.scrollTop:this[0].scrollTop},position:function(a){return this.offset({margin:!1,scroll:!1,relativeTo:this.offsetParent()},a)},offset:function(b,c){this[0]||d();var g=0,h=0,i=0,j=0,k=this[0],l=this[0],m,n,o=a.css(k,"position"),p=a.browser.mozilla,q=a.browser.msie,r=a.browser.opera,s=a.browser.safari,t=a.browser.safari&&parseInt(a.browser.version)>520,u=!1,v=!1,b=a.extend({margin:!0,border:!1,padding:!1,scroll:!0,lite:!1,relativeTo:document.body},b||{});if(b.lite)return this.offsetLite(b,c);b.relativeTo.jquery&&(b.relativeTo=b.relativeTo[0]);if(k.tagName=="BODY")g=k.offsetLeft,h=k.offsetTop,p?(g+=e(k,"marginLeft")+e(k,"borderLeftWidth")*2,h+=e(k,"marginTop")+e(k,"borderTopWidth")*2):r?(g+=e(k,"marginLeft"),h+=e(k,"marginTop")):q&&jQuery.boxModel?(g+=e(k,"borderLeftWidth"),h+=e(k,"borderTopWidth")):t&&(g+=e(k,"marginLeft")+e(k,"borderLeftWidth"),h+=e(k,"marginTop")+e(k,"borderTopWidth"));else do{n=a.css(l,"position"),g+=l.offsetLeft,h+=l.offsetTop;if(p&&!l.tagName.match(/^t[d|h]$/i)||q||t)g+=e(l,"borderLeftWidth"),h+=e(l,"borderTopWidth"),p&&n=="absolute"&&(u=!0),q&&n=="relative"&&(v=!0);m=l.offsetParent||document.body;if(b.scroll||p)do b.scroll&&(i+=l.scrollLeft,j+=l.scrollTop),r&&(a.css(l,"display")||"").match(/table-row|inline/)&&(i=i-(l.scrollLeft==l.offsetLeft?l.scrollLeft:0),j=j-(l.scrollTop==l.offsetTop?l.scrollTop:0)),p&&l!=k&&a.css(l,"overflow")!="visible"&&(g+=e(l,"borderLeftWidth"),h+=e(l,"borderTopWidth")),l=l.parentNode;while(l!=m);l=m;if(l==b.relativeTo&&l.tagName!="BODY"&&l.tagName!="HTML"){p&&l!=k&&a.css(l,"overflow")!="visible"&&(g+=e(l,"borderLeftWidth"),h+=e(l,"borderTopWidth")),(s&&!t||r)&&n!="static"&&(g-=e(m,"borderLeftWidth"),h-=e(m,"borderTopWidth"));break}if(l.tagName=="BODY"||l.tagName=="HTML"){(s&&!t||q&&a.boxModel)&&o!="absolute"&&o!="fixed"&&(g+=e(l,"marginLeft"),h+=e(l,"marginTop"));if(t||p&&!u&&o!="fixed"||q&&o=="static"&&!v)g+=e(l,"borderLeftWidth"),h+=e(l,"borderTopWidth");break}}while(l);var w=f(k,b,g,h,i,j);return c?(a.extend(c,w),this):w},offsetLite:function(b,c){this[0]||d();var e=0,g=0,h=0,i=0,j=this[0],k,b=a.extend({margin:!0,border:!1,padding:!1,scroll:!0,relativeTo:document.body},b||{});b.relativeTo.jquery&&(b.relativeTo=b.relativeTo[0]);do{e+=j.offsetLeft,g+=j.offsetTop,k=j.offsetParent||document.body;if(b.scroll)do h+=j.scrollLeft,i+=j.scrollTop,j=j.parentNode;while(j!=k);j=k}while(j&&j.tagName!="BODY"&&j.tagName!="HTML"&&j!=b.relativeTo);var l=f(this[0],b,e,g,h,i);return c?(a.extend(c,l),this):l},offsetParent:function(){this[0]||d();var b=this[0].offsetParent;while(b&&b.tagName!="BODY"&&a.css(b,"position")=="static")b=b.offsetParent;return a(b)}});var d=function(){throw"Dimensions: jQuery collection is empty"},e=function(b,c){return parseInt(a.css(b.jquery?b[0]:b,c))||0},f=function(b,c,d,f,g,h){return c.margin||(d-=e(b,"marginLeft"),f-=e(b,"marginTop")),c.border&&(a.browser.safari&&parseInt(a.browser.version)<520||a.browser.opera)?(d+=e(b,"borderLeftWidth"),f+=e(b,"borderTopWidth")):!c.border&&!(a.browser.safari&&parseInt(a.browser.version)<520||a.browser.opera)&&(d-=e(b,"borderLeftWidth"),f-=e(b,"borderTopWidth")),c.padding&&(d+=e(b,"paddingLeft"),f+=e(b,"paddingTop")),c.scroll&&(!a.browser.opera||b.offsetLeft!=b.scrollLeft&&b.offsetTop!=b.scrollLeft)&&(g-=b.scrollLeft,h-=b.scrollTop),c.scroll?{top:f-h,left:d-g,scrollTop:h,scrollLeft:g}:{top:f,left:d}},g=0,h=function(){if(!g){var b=a("<div>").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:-1e3}).appendTo("body");g=100-b.append("<div>").find("div").css({width:"100%",height:200}).width(),b.remove()}return g}})(jQuery)